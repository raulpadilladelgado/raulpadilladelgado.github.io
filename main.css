:root{
    --bg: #ffffff; /* solid white for light mode */
    --card: #ffffff;
    --muted: #6b7280;
    --accent: #2563eb;
    --text: #0f172a;
}

/* dark theme variables (very dark navy, not pure black) */
html.dark{--bg:#0b152b;--card:#0e1b33;--muted:#9aa6b2;--accent:#60a5fa;--text:#e6eef8;color:var(--text)}

*{box-sizing:border-box}
html,body{min-height:100%;margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial}
/* Solid background per theme */
html{background:var(--bg)}
body{background:transparent;color:var(--text)}

.header{display:flex;flex-direction:column;align-items:center;padding:2.25rem 1rem 0;text-align:center}
.logo{height:9.5rem;width:9.5rem;border-radius:20%;box-shadow:0 6px 20px rgba(16,24,40,0.08);transition:transform .45s cubic-bezier(.2,.9,.2,1)}
.logo:hover{transform:translateY(-6px) scale(1.02)}
.title{margin:0.5rem 0 0;font-weight:700;font-size:2.5rem;letter-spacing:0.5px}
.initial{color:var(--accent)}
.subtitle{margin-top:.35rem;color:var(--muted);font-size:1.1rem}

/* Title contrast in dark mode */
html.dark .title{color:#e6eef8}
html.dark .lang-toggle{color:#e6eef8}

.card{max-width:900px;margin:1.25rem auto;padding:1.25rem;border-radius:12px;background:transparent;box-shadow:none}

.header-controls{position:fixed;/* respect device safe area (notch) and stay pinned to viewport */
    top:calc(env(safe-area-inset-top, 12px));
    right:calc(env(safe-area-inset-right, 12px));
    display:flex;gap:.5rem;z-index:9999;pointer-events:auto}
.theme-toggle{background:transparent;border:none;padding:.35rem .6rem;border-radius:8px;font-weight:600;cursor:pointer}
.theme-toggle[aria-pressed="true"]{box-shadow:none}

/* SVG icon handling inside theme toggle */
.theme-toggle{display:inline-flex;align-items:center;justify-content:center;gap:6px;color:var(--muted);pointer-events:auto}
.theme-toggle .icon{display:block;transition:transform .18s ease, opacity .18s ease;opacity:0;transform:translateY(-2px);pointer-events:none}
.theme-toggle .icon-sun{opacity:1}
.theme-toggle.is-dark .icon-sun{opacity:0;transform:translateY(4px) scale(.9)}
.theme-toggle.is-dark .icon-moon{opacity:1;transform:translateY(0) scale(1)}
.theme-toggle .icon-moon{opacity:0;transform:translateY(-4px) scale(.9)}

/* ensure icons inherit visible color on dark mode */
html.dark .theme-toggle{color:var(--accent)}

/* rotation animation when toggling theme */
.theme-toggle.rotating{animation:toggle-rotate .42s ease-in-out}
@keyframes toggle-rotate{
    0%{transform:rotate(0) scale(1)}
    25%{transform:rotate(30deg) scale(1.05)}
    60%{transform:rotate(-18deg) scale(.98)}
    100%{transform:rotate(0) scale(1)}
}

.links h2{font-size:1rem;color:var(--muted);text-transform:uppercase;letter-spacing:1px;margin:1rem 0 .5rem}
.link-icons{display:flex;gap:1rem;flex-wrap:wrap;justify-content:center;margin-bottom:0.8rem}
.link-item{display:flex;flex-direction:column;align-items:center;text-decoration:none;color:inherit;padding:.65rem 0;min-width:6.5rem}
.icon{height:3.25rem;width:3.25rem;transition:transform .28s ease, box-shadow .28s ease, filter .28s ease;border-radius:8px}
.svg-icon{height:3.25rem;width:3.25rem}
/* ensure inline SVGs use currentColor and are visible in dark mode */
.svg-icon{color:var(--muted);fill:currentColor}
html.dark .svg-icon{color:#e6eef8}
.link-item:hover .icon{transform:translateY(-6px) scale(1.05);box-shadow:0 10px 30px rgba(16,24,40,0.08);filter:grayscale(0)}
.link-item:hover .svg-icon{transform:translateY(-6px) scale(1.02)}
.caption{margin-top:.45rem;font-size:.9rem;color:var(--muted)}

/* info card popup */
.link-item{position:relative}
.info-toggle{position:static;margin-top:.5rem;background:rgba(0,0,0,0.06);border:none;border-radius:8px;padding:.28rem .48rem;cursor:pointer;display:flex;align-items:center;justify-content:center;opacity:0;transform:translateY(-6px);transition:opacity .18s ease, transform .18s ease}
.info-toggle:hover{background:rgba(0,0,0,0.09)}
.info-toggle .info-icon{width:14px;height:14px;color:var(--muted)}

/* show toggle on hover (desktop) */
.link-item:hover > .info-toggle{opacity:1;transform:translateY(0)}
.info-card{position:absolute;left:50%;transform:translateX(-50%) translateY(8px);bottom:calc(100% + 8px);min-width:14rem;max-width:18rem;background:var(--card);color:inherit;padding:.75rem;border-radius:10px;box-shadow:0 12px 30px rgba(2,6,23,0.08);opacity:0;pointer-events:none;transition:opacity .18s ease, transform .18s ease;z-index:50;font-size:.92rem;text-align:left}
.info-card{box-sizing:border-box;white-space:normal;word-break:break-word;max-width:calc(18rem);}
.info-card.visible{opacity:1;pointer-events:auto;transform:translateX(-50%) translateY(0)}
.info-card::after{content:'';position:absolute;left:50%;bottom:-8px;transform:translateX(-50%);width:12px;height:8px;background:transparent}

/* dark mode for card */
html.dark .info-card{background:#0b1a2a;color:var(--muted);box-shadow:0 12px 30px rgba(0,0,0,0.45)}

/* mobile: info as accordion below each item */
@media (max-width:600px){
    .info-toggle{opacity:1;transform:none;padding:.35rem .45rem;margin-top:.45rem}
    /* mobile: use a bottom sheet style when visible so it uses full viewport width */
    .info-card{position:static;opacity:0;transform:translateY(-6px);pointer-events:none;margin-top:.6rem;background:var(--card);padding:.6rem;border-radius:8px;box-shadow:0 8px 20px rgba(2,6,23,0.06);color:var(--muted);max-width:100%;width:calc(100% - 1rem);overflow:auto;max-height:40vh;word-break:break-word;hyphens:auto;transition:opacity .22s ease, transform .22s ease}
    .info-card.visible{opacity:1;pointer-events:auto;transform:translateY(0)}
    .info-card.visible.sheet{display:block;position:fixed;left:0;right:0;bottom:0;width:100vw;max-width:none;border-radius:12px 12px 0 0;margin:0 auto;padding:1rem;max-height:60vh;overflow:auto;z-index:10000}
    .info-toggle .info-icon{width:16px;height:16px}

    /* sheet close button */
    .sheet-close{display:inline-block;margin-bottom:.6rem;background:transparent;border:none;color:var(--muted);font-weight:700;padding:.25rem .5rem;border-radius:8px;cursor:pointer}
    .sheet-close:hover{background:rgba(0,0,0,0.04)}
    .info-card.sheet{padding-top:1.25rem}
}

/* Hide the info-toggle entirely on devices that support hover + fine pointer (desktop cursors) */
@media (hover: hover) and (pointer: fine){
    .info-toggle{display:none !important}
}

/* Make info-card respect viewport edges and avoid overflow */
.info-card{max-width: calc(100vw - 2rem); z-index:9999}

/* Add small padding wrap for long words */
.info-card{word-wrap:break-word;overflow-wrap: anywhere}

.lang-toggle{background:transparent;border:none;padding:.35rem .6rem;border-radius:8px;font-weight:600;cursor:pointer}

/* ensure language button is clickable */
.lang-toggle{pointer-events:auto}

/* remove visible focus/outline on toggles */
.lang-toggle:focus,.theme-toggle:focus{outline:none;box-shadow:none}

/* responsive */
@media (max-width:600px){
    .logo{height:7.2rem;width:7.2rem}
    .title{font-size:1.6rem}
    .subtitle{font-size:.98rem}
    .card{margin:0.8rem;padding:0.9rem}
    .icon{height:2.6rem;width:2.6rem}
    .caption{font-size:.82rem}
    /* make sure the fixed header controls sit at the very top (respecting notch)
       and push the header content down so they don't overlap the logo */
    .header-controls{top:calc(env(safe-area-inset-top, 8px));right:calc(env(safe-area-inset-right, 8px))}
    .header{ /* extra top padding on small screens to avoid overlap with fixed controls */
        padding-top: calc(env(safe-area-inset-top, 8px) + 3.6rem);
    }

    /* Avoid visual 'reset' of the page gradient: make the main card transparent on small screens
       so the body gradient flows continuously; remove heavy shadow and rounded edges that create
       the visible banding effect. If you prefer a subtle separation, we can switch to a faint
       divider instead. */
    .card{
        background: transparent;
        box-shadow: none;
        border-radius: 0.5rem; /* keep slight rounding but minimal */
        margin: 0.6rem 0; /* maintain spacing but reduce strong band */
        padding: 0.9rem;
    }
}

@media (min-width:601px) and (max-width:1000px){
    .logo{height:8.5rem;width:8.5rem}
    .title{font-size:2rem}
}

/* Ensure the main card remains transparent at all sizes to keep a continuous gradient */
.card{background:transparent !important; box-shadow:none !important}

/* accessibility focus */
.link-item:focus,.link-item a:focus{outline:2px solid rgba(37,99,235,0.18);outline-offset:4px}

/* small utility tweaks */
.hidden{display:none}

